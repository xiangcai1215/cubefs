# 文件系统类型相关

## 文件类型



Linux文件系统提供有7中类型，包括普通文件、块设备、字符设备、目录、硬链接、管道文件、套接字文件。

| 文件类型     | 类型标识符 | 描述                                      |
| :----------- | :--------- | :---------------------------------------- |
| 普通文件     | `-`        | 包含文本、二进制、脚本等各种类型的文件。  |
| 目录         | `d`        | 用于存储其他文件和目录的容器。            |
| 符号链接     | `l`        | 指向其他文件或目录的快捷方式。            |
| 块设备文件   | `b`        | 提供对块设备（如硬盘、CD-ROM 等）的访问。 |
| 字符设备文件 | `c`        | 提供对字符设备（如终端、键盘等）的访问。  |
| 套接字文件   | `s`        | 用于进程间通信。                          |
| 管道文件     | `p`        | 用于进程间通信。                          |

执行ls命令可以查看文件详细信息：

```
brw-rw---- 1 root disk 8, 3 May 31 16:50 /dev/sda3
```

具体解释如下：

- `b`：表示这是一个块设备文件，也就是一个可随机访问的设备文件。
- `rw-`：表示文件所有者（root）具有读写权限，文件所属组（disk）具有读写权限，其他用户没有任何权限。
- `1`：表示该文件有一个硬链接，即有一个文件名和它指向同一个文件。
- `root`：表示文件所有者是 root 用户。
- `disk`：表示文件所属组是 disk 组。
- `8, 3`：表示这个设备文件的主设备号和次设备号，用于标识设备类型和驱动程序。
- `May 31 16:50`：表示该文件的最后修改时间是在 2022 年 5 月 31 日 16:50。
- `/dev/sda3`：表示设备文件的路径和名称，即第三个 SCSI 硬盘分区。

## 创建不同类型文件命令

主要介绍Mknod命令

`mknod` 是一个 Linux 命令，用于创建特殊类型的文件，如字符设备文件、块设备文件等。它的语法如下：

```
mknod [OPTION]... NAME TYPE [MAJOR MINOR]
```

其中，`NAME` 表示要创建的文件名，`TYPE` 表示要创建的文件类型，`MAJOR` 和 `MINOR` 表示设备文件的主设备号和次设备号。下面是 `mknod` 命令常用的文件类型及其说明：

- 字符设备文件：使用 `c` 表示，用于提供对字符设备（如终端、打印机等）的访问。创建字符设备文件时，需要指定主设备号和次设备号。例如，创建名为 `ttyS0` 的串口设备文件的命令如下：

  ```
  sudo mknod /dev/ttyS0 c 4 64
  ```

- 块设备文件：使用 `b` 表示，用于提供对块设备（如硬盘、CD-ROM 等）的访问。创建块设备文件时，同样需要指定主设备号和次设备号。例如，创建名为 `sda` 的硬盘设备文件的命令如下：

  ```
  sudo mknod /dev/sda b 8 0
  ```

- 命名管道文件：使用 `p` 表示，用于进程间通信。创建命名管道文件时，只需要指定文件名即可。例如，创建名为 `mypipe` 的命名管道文件的命令如下：

  ```
  sudo mknod /tmp/mypipe p
  ```

